<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Score Table</title>
  <style>
    table { border-collapse: collapse; width: 60%; margin: 2rem auto; font-family: sans-serif; }
    th, td { border: 1px solid #ddd; padding: 8px; text-align: center; }
    th { background-color: #f2f2f2; }
    button { padding: 4px 8px; }
  </style>
</head>
<body>
  <h2 style="text-align:center;">Leaderboard</h2>
  <table id="scoreTable">
    <thead>
      <tr><th>Name</th><th>Score</th><th>Increment</th><th>Decrement</th></tr>
    </thead>
    <tbody></tbody>
  </table>

  <script>
    async function loadTable() {
      const res = await fetch('/scores');
      const data = await res.json();
      const tbody = document.querySelector('tbody');
      tbody.innerHTML = '';
      data.forEach(item => {
        const tr = document.createElement('tr');
        tr.innerHTML = `
          <td>${item.name}</td>
          <td>${item.score}</td>
          <td><button onclick="update('${item.name}', 1)">+</button></td>
          <td><button onclick="update('${item.name}', -1)">-</button></td>
        `;
        tbody.appendChild(tr);
      });
    }

    async function update(name, delta) {
      await fetch(`/update?name=${name}&delta=${delta}`);
      loadTable();
    }

    loadTable();
  </script>
</body>
</html>
